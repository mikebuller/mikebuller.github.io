<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bonville G.C. Invitational</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-part2.css">
    <link rel="stylesheet" href="styles-part3.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>
<body class="home-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="option-icon">‚õ≥Ô∏è</div>
            </div>
            <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <ul class="nav-links">
                <li><a href="#welcome" class="active">Welcome</a></li>
                <li><a href="#course">Course</a></li>
                <li><a href="#players">Players</a></li>
                <li><a href="#day1">Day 1</a></li>
                <li><a href="#dinner">Dinner</a></li>
                <li><a href="#day2">Day 2</a></li>
                <li><a href="rounds.html">Rounds</a></li>
            </ul>
        </div>
    </nav>

    <!-- Welcome Section -->
    <section id="welcome" class="hero-section">
        <div class="video-background">
            <div id="youtube-player"></div>
        </div>
        <div class="video-overlay"></div>
        <div class="hero-content">
            <h1>The Bonville G.C. Invitational</h1>
            <p>Welcome to an exclusive golf experience set amongst the stunning natural beauty of Bonville Golf Resort</p>
        </div>
        <div class="scroll-indicator">‚ñº</div>
    </section>

    <!-- Course Section -->
    <section id="course" class="page-section course-section">
        <div class="container">
            <div class="section-header">
                <h2>The Course</h2>
                <div class="divider"></div>
                <p>Experience one of Australia's most stunning golf courses, nestled among towering pines and abundant wildlife</p>
            </div>

            <!-- Course Scorecard -->
            <div class="course-card">
                <h3>üìã Course Scorecard</h3>
                <div class="course-card-content" id="course-scorecard">
                    <!-- Populated dynamically from allCourseData -->
                </div>
            </div>

            <!-- Hole Fly-Overs -->
            <div class="course-card" style="margin-top: 40px;">
                <h3>üé• Hole Fly-Overs</h3>
                <div class="course-card-content">
                    <p style="margin-bottom: 20px; color: var(--masters-brown); text-align: center;">Watch aerial flyover videos of each hole to plan your strategy and appreciate the stunning course layout.</p>
                    <div style="display: flex; justify-content: center; margin-bottom: 25px; padding: 0 15px;">
                        <a href="https://vimeo.com/287184640" target="_blank" class="cta-button" style="font-size: 1rem; white-space: nowrap;">Watch Course Flyover</a>
                    </div>

                    <div class="hole-flyovers-grid" id="hole-flyovers-grid">
                        <!-- Populated dynamically from allCourseData -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Players Section -->
    <section id="players" class="page-section players-section">
        <div class="container">
            <div class="section-header">
                <h2>The Players</h2>
                <div class="divider"></div>
                <p>Meet the eight competitors vying for glory at The Bonville G.C. Invitational</p>
            </div>

            <div class="players-grid">
                <!-- Player 1 -->
                <div class="player-card">
                    <img src="players/mck-tour-card-1.jpg" alt="Player 1" class="player-image">
                    <div class="player-info">
                        <h3>Mike Buller</h3>
                        <span class="handicap">HCP: 12</span>
                        <p class="player-skill">üéØ The "Mulligan Whisperer" ‚Äì has perfected the art of pretending that first shot never happened.</p>
                    </div>
                </div>

                <!-- Player 2 -->
                <div class="player-card">
                    <img src="players/adrian-platas.jpeg" alt="Adrian Platas" class="player-image">
                    <div class="player-info">
                        <h3>Adrian Platas</h3>
                        <span class="handicap">HCP: 8</span>
                        <p class="player-skill">ü•ò Like a fine paella, his drives are cooked low and slow ‚Äì short off the tee but always simmering toward the green. His tortilla flip putting technique? Chef's kiss!</p>
                    </div>
                </div>

                <!-- Player 3 -->
                <div class="player-card">
                    <img src="players/darren-shadlow.jpeg" alt="Darren Shadlow" class="player-image">
                    <div class="player-info">
                        <h3>Darren Shadlow</h3>
                        <span class="handicap">HCP: 15</span>
                        <p class="player-skill">üò§ Master of channeling his inner fury into pure golfing power. That bunker shot that wronged him? It'll never happen again.</p>
                    </div>
                </div>

                <!-- Player 4 -->
                <div class="player-card">
                    <img src="players/mcb-tour-card-2.jpg" alt="Player 4" class="player-image">
                    <div class="player-info">
                        <h3>Chris Anderson</h3>
                        <span class="handicap">HCP: 10</span>
                        <p class="player-skill">üç∫ The "19th Hole MVP" ‚Äì plays best when the clubhouse beer is in sight. Mysteriously excellent on holes 16-18.</p>
                    </div>
                </div>

                <!-- Player 5 -->
                <div class="player-card">
                    <img src="players/mcb-tour-card-3.jpg" alt="Player 5" class="player-image">
                    <div class="player-info">
                        <h3>Ryan Campbell</h3>
                        <span class="handicap">HCP: 6</span>
                        <p class="player-skill">üìè The "Human GPS" ‚Äì can read greens like a map but still somehow manages to three-putt while telling you exactly why.</p>
                    </div>
                </div>

                <!-- Player 6 -->
                <div class="player-card">
                    <img src="players/mcb-tour-card-4.jpg" alt="Player 6" class="player-image">
                    <div class="player-info">
                        <h3>Andrew Wilson</h3>
                        <span class="handicap">HCP: 14</span>
                        <p class="player-skill">üå≥ The "Tree Whisperer" ‚Äì his ball finds every tree on the course, but somehow always bounces back onto the fairway.</p>
                    </div>
                </div>

                <!-- Player 7 -->
                <div class="player-card">
                    <img src="players/mcb-tour-card-5.jpg" alt="Player 7" class="player-image">
                    <div class="player-info">
                        <h3>Steven Parker</h3>
                        <span class="handicap">HCP: 11</span>
                        <p class="player-skill">üé≠ The "Cart Path Maestro" ‚Äì gets more distance off concrete than grass. Groundskeepers fear him.</p>
                    </div>
                </div>

                <!-- Player 8 -->
                <div class="player-card">
                    <img src="players/mcb-tour-card-6.jpg" alt="Player 8" class="player-image">
                    <div class="player-info">
                        <h3>Daniel Hughes</h3>
                        <span class="handicap">HCP: 9</span>
                        <p class="player-skill">ü¶ò The "Wildlife Wrangler" ‚Äì has developed an uncanny ability to locate his ball next to kangaroos. They're basically his caddies now.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Day 1 Section - Team Tournament -->
    <section id="day1" class="page-section tournament-section">
        <div class="container">
            <div class="section-header">
                <h2>Day 1 - Team Championship</h2>
                <div class="divider"></div>
                <p>Four teams of two compete head-to-head. Winners advance to the Grand Final for the trophy!</p>
            </div>

            <div class="tee-times-container">
                <div class="tee-time-box">
                    <h4>‚õ≥ Group 1 Tee Time</h4>
                    <p class="tee-time">10:20 AM</p>
                </div>
                <div class="tee-time-box">
                    <h4>‚õ≥ Group 2 Tee Time</h4>
                    <p class="tee-time">10:10 AM</p>
                </div>
            </div>

        </div>
    </section>

    <!-- Dinner Section -->
    <section id="dinner" class="page-section dinner-section">
        <div class="container">
            <div class="section-header">
                <h2>Day 1 Awards Dinner</h2>
                <div class="divider"></div>
            </div>

            <!-- Dinner Info Details -->
            <div class="dinner-details">
                <p><strong>Time:</strong> 7:30 PM</p>
                <p><strong>Dress Code:</strong> Smart casual (collared shirts preferred)</p>
            </div>

            <div class="dinner-grid">
                <div class="dinner-card">
                    <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=400&fit=crop" alt="Fine Dining" class="dinner-image">
                    <div class="dinner-info">
                        <h3>Flooded Gums Restaurant</h3>
                        <p>Experience contemporary Australian cuisine in an elegant setting overlooking the championship course. Our award-winning chefs prepare seasonal dishes using the finest local produce.</p>
                        <p>Located within the stunning Bonville Golf Resort, the restaurant offers panoramic views of the lush fairways and native bushland.</p>
                        <a href="https://www.bonvillegolf.com.au/dining/#bynight" target="_blank" class="cta-button" style="margin-top: 20px; display: inline-block;">View Full Menu</a>
                    </div>
                </div>

                <div class="dinner-card">
                    <img src="https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&h=400&fit=crop" alt="Evening Ambiance" class="dinner-image">
                    <div class="dinner-info">
                        <h3>Tournament Dinner Menu</h3>
                        <ul class="menu-list">
                            <li><span class="menu-item">ü•ó Entr√©e: Moreton Bay Bug Tail</span></li>
                            <li><span class="menu-item">ü•© Main: Wagyu Beef Tenderloin</span></li>
                            <li><span class="menu-item">üç∞ Dessert: Dark Chocolate Fondant</span></li>
                            <li><span class="menu-item">üßÄ Cheese Selection & Port</span></li>
                            <li><span class="menu-item">üç∑ Premium Wine Pairing</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Day 2 Section - Individual Battle Royale -->
    <section id="day2" class="page-section tournament-section">
        <div class="container">
            <div class="section-header">
                <h2>Day 2 - Individual Championship</h2>
                <div class="divider"></div>
                <p>All eight players compete individually in an epic battle for ultimate glory!</p>
            </div>

            <div class="tee-times-container">
                <div class="tee-time-box">
                    <h4>‚õ≥ Group 1 Tee Time</h4>
                    <p class="tee-time">8:40 AM</p>
                </div>
                <div class="tee-time-box">
                    <h4>‚õ≥ Group 2 Tee Time</h4>
                    <p class="tee-time">8:30 AM</p>
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <h3>The Bonville G.C. Invitational</h3>
        <p>A Tradition Unlike Any Other</p>
        <p style="margin-top: 10px;">Bonville Golf Resort, NSW Australia</p>
        <img src="images/bonville-logo.jpg" alt="Bonville Logo" class="footer-logo">
        <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.8;">¬© 2026 The Bonville G.C. Invitational. All rights reserved.</p>
    </footer>

    <!-- YouTube IFrame API -->
    <script src="courses/course-data.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // YouTube Player with early loop (15 seconds before end)
        let player;
        let loopCheckInterval;
        const LOOP_BEFORE_END = 17; // seconds before end to restart

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                videoId: 'PdBEFTMmnYA',
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    controls: 0,
                    showinfo: 0,
                    rel: 0,
                    modestbranding: 1,
                    playsinline: 1,
                    enablejsapi: 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo();
            startLoopCheck();
        }

        function onPlayerStateChange(event) {
            // If video ends (shouldn't happen with our loop, but as fallback)
            if (event.data === YT.PlayerState.ENDED) {
                player.seekTo(0);
                player.playVideo();
            }
            // Restart loop check when video is playing
            if (event.data === YT.PlayerState.PLAYING) {
                startLoopCheck();
            }
        }

        function startLoopCheck() {
            // Clear any existing interval
            if (loopCheckInterval) {
                clearInterval(loopCheckInterval);
            }

            // Check every 500ms if we need to loop
            loopCheckInterval = setInterval(() => {
                if (player && player.getDuration && player.getCurrentTime) {
                    const duration = player.getDuration();
                    const currentTime = player.getCurrentTime();

                    // Loop 15 seconds before the video ends
                    if (duration > 0 && currentTime >= duration - LOOP_BEFORE_END) {
                        player.seekTo(0);
                        player.playVideo();
                    }
                }
            }, 500);
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                    // Update active nav link
                    document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Mobile menu toggle
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const navLinks = document.querySelector('.nav-links');

        mobileMenuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileMenuToggle.classList.toggle('active');
        });

        // Close mobile menu when a link is clicked
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                mobileMenuToggle.classList.remove('active');
            });
        });

        // Update active nav on scroll + navbar fade
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-links a');
            const navbar = document.querySelector('.navbar');
            const heroSection = document.querySelector('.hero-section');

            // Fade navbar in/out based on hero section
            if (navbar && heroSection) {
                const heroBottom = heroSection.offsetTop + heroSection.offsetHeight;
                if (window.scrollY >= heroBottom - 60) {
                    navbar.classList.add('navbar-visible');
                } else {
                    navbar.classList.remove('navbar-visible');
                }
            }

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });

        // Populate hole flyovers grid from allCourseData
        function populateHoleFlyovers() {
            const grid = document.getElementById('hole-flyovers-grid');
            if (!grid || typeof allCourseData === 'undefined') return;

            const bonville = allCourseData.find(c => c.name === 'Bonville Golf Resort');
            if (!bonville || !bonville.holeFlyovers) return;

            const tees = bonville.tees || [];
            const imagePath = bonville.holeImagePath || '';
            const pageUrl = bonville.holePageUrl || '';

            let html = '';
            for (let i = 1; i <= 18; i++) {
                const holeData = bonville.holes[i];
                const flyover = bonville.holeFlyovers[i];
                if (!holeData || !flyover) continue;

                // Use first tee for par and SI
                const firstTee = tees[0];
                const firstTeeData = firstTee ? holeData[firstTee.key] : null;
                const par = firstTeeData ? firstTeeData.par : '?';
                const si = firstTeeData ? firstTeeData.si : '?';

                // Build distance string from all tees
                const distParts = tees.map(t => {
                    const td = holeData[t.key];
                    return td ? `${t.label.charAt(0)}: ${td.dist}m` : null;
                }).filter(Boolean).join(' ‚Ä¢ ');

                const imgSrc = imagePath.replace('{hole}', i);
                const holeUrl = pageUrl.replace('{hole}', i);
                const videoId = flyover.id;

                html += `
                    <div class="hole-card">
                        <a href="${holeUrl}" target="_blank" class="hole-info"><h4>Hole ${i}</h4><p class="par">Par ${par} ‚Ä¢ SI ${si}</p><p class="distance">${distParts}</p></a>
                        <div class="hole-video" onclick="playHoleVideo(this, '${videoId}')">
                            <img src="${imgSrc}" alt="Hole ${i}" class="hole-thumbnail">
                            <div class="play-overlay">‚ñ∂</div>
                        </div>
                    </div>`;
            }
            grid.innerHTML = html;
        }

        // Populate course scorecard from allCourseData
        function populateCourseScorecard() {
            const container = document.getElementById('course-scorecard');
            if (!container || typeof allCourseData === 'undefined') return;

            const bonville = allCourseData.find(c => c.name === 'Bonville Golf Resort');
            if (!bonville) return;

            const tees = bonville.tees || [];
            const firstTeeKey = tees.length > 0 ? tees[0].key : null;
            const th = 'padding: 12px 8px; text-align: center;';
            const td = 'padding: 10px 8px; text-align: center;';
            const outIn = 'background: rgba(0,103,71,0.1);';
            const tot = 'background: rgba(201,162,39,0.2);';

            // Header row
            let headerCells = `<th style="${th}">Hole</th>`;
            for (let i = 1; i <= 18; i++) {
                const extra = i === 9 ? '' : (i === 10 ? '' : '');
                headerCells += `<th style="${th}">${i}</th>`;
                if (i === 9) headerCells += `<th style="${th} background: var(--masters-dark-green);">OUT</th>`;
            }
            headerCells += `<th style="${th} background: var(--masters-dark-green);">IN</th>`;
            headerCells += `<th style="${th} background: var(--masters-gold); color: var(--masters-dark-green);">TOT</th>`;

            // Par row (from first tee)
            let parFront = 0, parBack = 0;
            let parCells = `<td style="${td} font-weight: 700; color: var(--masters-brown);">Par</td>`;
            for (let i = 1; i <= 18; i++) {
                const hd = bonville.holes[i];
                const par = firstTeeKey && hd && hd[firstTeeKey] ? hd[firstTeeKey].par : '?';
                if (typeof par === 'number') { if (i <= 9) parFront += par; else parBack += par; }
                parCells += `<td style="${td}">${par}</td>`;
                if (i === 9) parCells += `<td style="${td} font-weight: 700; ${outIn}">${parFront}</td>`;
            }
            parCells += `<td style="${td} font-weight: 700; ${outIn}">${parBack}</td>`;
            parCells += `<td style="${td} font-weight: 700; ${tot}">${parFront + parBack}</td>`;

            // Distance rows (one per tee)
            let teeRows = '';
            tees.forEach((tee, idx) => {
                const bg = idx % 2 === 0 ? 'white' : 'var(--masters-cream)';
                let distFront = 0, distBack = 0;
                let cells = `<td style="${td} font-weight: 700; color: var(--masters-brown);">${tee.label}</td>`;
                for (let i = 1; i <= 18; i++) {
                    const hd = bonville.holes[i];
                    const dist = hd && hd[tee.key] ? hd[tee.key].dist : '?';
                    if (typeof dist === 'number') { if (i <= 9) distFront += dist; else distBack += dist; }
                    cells += `<td style="${td}">${dist}</td>`;
                    if (i === 9) cells += `<td style="${td} font-weight: 700; ${outIn}">${distFront}</td>`;
                }
                cells += `<td style="${td} font-weight: 700; ${outIn}">${distBack}</td>`;
                cells += `<td style="${td} font-weight: 700; ${tot}">${distFront + distBack}</td>`;
                teeRows += `<tr style="background: ${bg};">${cells}</tr>`;
            });

            // SI row (from first tee)
            const siBg = tees.length % 2 === 0 ? 'white' : 'var(--masters-cream)';
            let siCells = `<td style="${td} font-weight: 700; color: var(--masters-brown);">Index</td>`;
            for (let i = 1; i <= 18; i++) {
                const hd = bonville.holes[i];
                const si = firstTeeKey && hd && hd[firstTeeKey] ? hd[firstTeeKey].si : '?';
                siCells += `<td style="${td}">${si}</td>`;
                if (i === 9) siCells += `<td style="${td} ${outIn}"></td>`;
            }
            siCells += `<td style="${td} ${outIn}"></td>`;
            siCells += `<td style="${td} ${tot}"></td>`;

            container.innerHTML = `
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem; min-width: 800px;">
                        <thead>
                            <tr style="background: var(--masters-green); color: var(--masters-gold);">${headerCells}</tr>
                        </thead>
                        <tbody>
                            <tr style="background: var(--masters-cream);">${parCells}</tr>
                            ${teeRows}
                            <tr style="background: ${siBg};">${siCells}</tr>
                        </tbody>
                    </table>
                </div>
                <div style="margin-top: 20px; display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                    <div class="stat"><span class="stat-label">Course Rating</span><span class="stat-value">73.5</span></div>
                    <div class="stat"><span class="stat-label">Slope Rating</span><span class="stat-value">131</span></div>
                </div>`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            populateCourseScorecard();
            populateHoleFlyovers();
        });

        // Play hole flyover video
        function playHoleVideo(container, videoId) {
            // Add playing class to hide thumbnail and play button
            container.classList.add('playing');

            // Create and insert the YouTube iframe
            const iframe = document.createElement('iframe');
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
            iframe.frameBorder = '0';
            iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
            iframe.allowFullscreen = true;
            container.appendChild(iframe);

            // Remove onclick to prevent re-triggering
            container.onclick = null;
        }

    </script>

    <!-- Admin Password Modal -->
    <div id="admin-password-modal" class="admin-password-modal" style="display:none;">
        <div class="admin-password-content">
            <h3>üîê God Mode</h3>
            <input type="password" id="admin-password-input" class="admin-password-input" placeholder="Password" autocomplete="off">
            <p id="admin-password-error" class="admin-password-error" style="display:none;">Incorrect password</p>
            <div class="admin-password-buttons">
                <button class="admin-password-btn cancel" onclick="closeAdminModal()">Cancel</button>
                <button class="admin-password-btn submit" onclick="submitAdminPassword()">Enter</button>
            </div>
        </div>
    </div>

    <!-- Shared crypto utilities + secret admin tap handler -->
    <script src="crypto-utils.js"></script>
    <script src="admin-tap.js"></script>
</body>
</html>
